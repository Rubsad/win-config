# yaml-language-server: $schema=https://aka.ms/configuration-dsc-schema/0.2
properties:
  configurationVersion: "0.2.0"
  resources:
    # Settings
    # Enable Developer Mode
    - resource: Microsoft.Windows.Developer/DeveloperMode
      directives:
        description: Enable Developer Mode
        allowPrerelease: true
      settings:
        Ensure: Present
    # Show File Extensions
    - resource: Microsoft.Windows.Developer/HideFileExtensions
      directives:
        description: Show File Extensions
        allowPrerelease: true
      settings:
        Ensure: Absent
    # Hide Task View Button
    - resource: Microsoft.Windows.Developer/ShowTaskViewButton
      id: "stupidTaskViewBug"
      directives:
        description: Stupid Task View Button Setting Bug
        allowPrerelease: true
      settings:
        Ensure: Present
    - resource: Microsoft.Windows.Developer/ShowTaskViewButton
      directives:
        description: Hide Task View Button
        allowPrerelease: true
      dependsOn:
        - "stupidTaskViewBug"
      settings:
        Ensure: Absent
    # Show Hidden Files
    - resource: Microsoft.Windows.Developer/ShowHiddenFiles
      directives:
        description: Show Hidden Files
        allowPrerelease: true
      settings:
        Ensure: Present
    # Enable Dark Mode
    - resource: Microsoft.Windows.Developer/EnableDarkMode
      directives:
        description: Enable Dark Mode
        allowPrerelease: true
      settings:
        Ensure: Present
    # Run O&O Shutup 10++
    - resource: PSDscResources/Script
      directives:
        description: Run OOSU
      settings:
        GetScript: |
          return $true
        TestScript: |
          return $false
        SetScript: |
          Invoke-RestMethod https://raw.githubusercontent.com/ozokuz/win-config/main/oosu.ps1 | Invoke-Expression
          return $true
    # Install Utils (7-Zip, PowerToys, PowerShell, Everything, AltSnap, ShareX, Tailscale, EarTrumpet, WizTree, Nilesoft Shell)
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install 7-Zip
        allowPrerelease: true
      settings:
        id: 7zip.7zip
        source: winget
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install PowerToys
        allowPrerelease: true
      settings:
        id: Microsoft.PowerToys
        source: winget
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install PowerShell
        allowPrerelease: true
      settings:
        id: Microsoft.PowerShell
        source: winget
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install Everything
        allowPrerelease: true
      settings:
        id: voidtools.Everything
        source: winget
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install AltSnap
        allowPrerelease: true
      settings:
        id: AltSnap.AltSnap
        source: winget
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install ShareX
        allowPrerelease: true
      settings:
        id: ShareX.ShareX
        source: winget
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install Tailscale
        allowPrerelease: true
      settings:
        id: tailscale.tailscale
        source: winget
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install EarTrumpet
        allowPrerelease: true
      settings:
        id: File-New-Project.EarTrumpet
        source: winget
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install WizTree
        allowPrerelease: true
      settings:
        id: AntibodySoftware.WizTree
        source: winget
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Install Nilesoft Shell
        allowPrerelease: true
      settings:
        id: Nilesoft.Shell
        source: winget